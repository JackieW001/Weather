<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" type="text/css" href="../static/home.css">
    <title>{{title}}</title>

  </head>

  <body>
    <h1> Welcome to the Weather Team's image-food API! </h1>
    <div class= "image"> <img src="../static/bigmac.jpg" width=80%> </div>
    <br>
    <div class="caption">
      Here is a picture of a gourmet food!
    </div>
    <br>
    <h3> A few guidelines: </h3>
    <ul>
      <li> Don't have any faces in the picture! </li>
      <li> Don't have multiple foods in the picture! </li>
      <li> Input a food image, and then press Get Data button. After pressing the Get Data button, text should appear in the text box below. When the text shows up, click the Submit button! </li>
    </ul>
    <input id="file" type="file"/>
    <button id="button">Get Data!</button>
    <br>
    <form method="post" action="/recipes/">
    <input type="text" id="textb64" name="textBox">
    <input type="submit" name="submitted" value="Submit">
  </form>
    <script>
    document.getElementById('button').addEventListener('click', function() {
      var files = document.getElementById('file').files;
      if (files.length > 0) {
        getBase64(files[0]);
      }
    });

    function getBase64(file) {
      var reader = new FileReader();
      reader.readAsDataURL(file);
      reader.onload = function () {
        var split=reader.result.split("base64,");
        console.log(split[1]);
        document.getElementById("textb64").value = split[1]
      };
      reader.onerror = function (error) {
        console.log('Error: ', error);
      };
    }</script>
  </body>


</html>
